{
  "entities": [
    {
      "name": "User",
      "description": "Account/person that authenticates (login, account creation) and is managed via the Usuarios screen.",
      "aliases": [
        "Usuarios (UI)"
      ],
      "sources": [
        "figma:Inicio de Sesion",
        "figma:Crear cuenta",
        "figma:Usuarios",
        "figma:Inicio de Sesion",
        "figma:Crear cuenta",
        "figma:Usuarios"
      ],
      "confidence": 0.9,
      "attributes": [
        {
          "name": "id",
          "type": "string",
          "pk": true,
          "nullable": false,
          "sources": [
            "figma:Inicio de Sesion",
            "figma:Crear cuenta",
            "figma:Usuarios"
          ],
          "confidence": 0.62
        },
        {
          "name": "email",
          "type": "email",
          "unique": true,
          "nullable": false,
          "sources": [
            "figma:Inicio de Sesion",
            "figma:Crear cuenta",
            "figma:Usuarios"
          ],
          "confidence": 0.9
        },
        {
          "name": "password",
          "type": "string",
          "nullable": false,
          "sources": [
            "figma:Inicio de Sesion",
            "figma:Crear cuenta",
            "figma:Usuarios"
          ],
          "confidence": 0.8
        },
        {
          "name": "name",
          "type": "string",
          "nullable": true,
          "sources": [
            "figma:Usuarios"
          ],
          "confidence": 0.6
        },
        {
          "name": "role",
          "type": "string",
          "nullable": true,
          "sources": [
            "figma:Usuarios"
          ],
          "confidence": 0.55
        }
      ]
    },
    {
      "name": "Project",
      "description": "Project record managed via Proyectos and Crear Proyecto screens; associated to a user.",
      "aliases": [
        "Proyectos (UI)"
      ],
      "sources": [
        "figma:Proyectos",
        "figma:Crear Proyecto",
        "ai_analysis:User-Project",
        "figma:Proyectos",
        "figma:Crear Proyecto"
      ],
      "confidence": 0.86,
      "attributes": [
        {
          "name": "id",
          "type": "string",
          "pk": true,
          "nullable": false,
          "sources": [
            "figma:Proyectos",
            "figma:Crear Proyecto"
          ],
          "confidence": 0.6
        },
        {
          "name": "name",
          "type": "string",
          "nullable": false,
          "sources": [
            "figma:Proyectos",
            "figma:Crear Proyecto"
          ],
          "confidence": 0.75
        },
        {
          "name": "description",
          "type": "string",
          "nullable": true,
          "sources": [
            "figma:Proyectos",
            "figma:Crear Proyecto"
          ],
          "confidence": 0.55
        },
        {
          "name": "createdat",
          "type": "datetime",
          "nullable": true,
          "sources": [
            "figma:Proyectos",
            "figma:Crear Proyecto"
          ],
          "confidence": 0.65
        },
        {
          "name": "updatedat",
          "type": "datetime",
          "nullable": true,
          "sources": [
            "figma:Proyectos",
            "figma:Crear Proyecto"
          ],
          "confidence": 0.65
        },
        {
          "name": "userid",
          "type": "string",
          "nullable": false,
          "sources": [
            "figma:Proyectos",
            "figma:Crear Proyecto",
            "ai_analysis:User-Project"
          ],
          "confidence": 0.7
        }
      ]
    },
    {
      "name": "Session",
      "description": "Authentication session with token and expiry tied to a user; part of the login flow.",
      "aliases": [
        "Inicio de Sesion (UI)"
      ],
      "sources": [
        "figma:Inicio de Sesion",
        "ai_analysis:User-Session",
        "figma:Inicio de Sesion"
      ],
      "confidence": 0.84,
      "attributes": [
        {
          "name": "id",
          "type": "string",
          "pk": true,
          "nullable": false,
          "sources": [
            "figma:Inicio de Sesion"
          ],
          "confidence": 0.6
        },
        {
          "name": "userid",
          "type": "string",
          "nullable": false,
          "sources": [
            "figma:Inicio de Sesion",
            "ai_analysis:User-Session"
          ],
          "confidence": 0.7
        },
        {
          "name": "token",
          "type": "string",
          "nullable": false,
          "sources": [
            "figma:Inicio de Sesion"
          ],
          "confidence": 0.7
        },
        {
          "name": "expiresat",
          "type": "datetime",
          "nullable": false,
          "sources": [
            "figma:Inicio de Sesion"
          ],
          "confidence": 0.7
        }
      ]
    }
  ],
  "relationships": [
    {
      "from": "Project",
      "to": "User",
      "type": "many-to-one",
      "fk": {
        "attribute": "userid",
        "ref": "User.id"
      },
      "mandatory": {
        "from": false,
        "to": false
      },
      "sources": [
        "figma:Proyectos",
        "figma:Crear Proyecto",
        "ai_analysis:User-Project"
      ],
      "confidence": 0.83
    },
    {
      "from": "Session",
      "to": "User",
      "type": "many-to-one",
      "fk": {
        "attribute": "userid",
        "ref": "User.id"
      },
      "mandatory": {
        "from": false,
        "to": false
      },
      "sources": [
        "figma:Inicio de Sesion",
        "ai_analysis:User-Session"
      ],
      "confidence": 0.8
    }
  ],
  "enums": [],
  "meta": {
    "generation_time": null,
    "open_questions": [
      {
        "question": "Confirm the primary key type for all entities (string used as placeholder). Should ids be uuid, bigint, or cuid per entity (User, Project, Session)?",
        "sources": [
          "figma:Inicio de Sesion",
          "figma:Crear cuenta",
          "figma:Usuarios",
          "figma:Proyectos",
          "figma:Crear Proyecto"
        ]
      },
      {
        "question": "Are Project.userId and Session.userId strictly required (NOT NULL) due to 1:N relationships to User, or can they be nullable?",
        "sources": [
          "figma:Proyectos",
          "figma:Crear Proyecto",
          "figma:Inicio de Sesion",
          "ai_analysis:User-Project",
          "ai_analysis:User-Session"
        ]
      },
      {
        "question": "Are Project.createdAt and Project.updatedAt system-generated with default current timestamp and non-null? Should they be marked derived or view_only?",
        "sources": [
          "figma:Proyectos",
          "figma:Crear Proyecto"
        ]
      },
      {
        "question": "Should User.password store a hashed value (e.g., passwordHash) instead of raw password? Any constraints (min length, complexity)?",
        "sources": [
          "figma:Crear cuenta",
          "figma:Inicio de Sesion",
          "figma:Usuarios"
        ]
      },
      {
        "question": "Should Session.token be unique to prevent duplicates? Any expected format/length?",
        "sources": [
          "figma:Inicio de Sesion"
        ]
      },
      {
        "question": "What are the allowed values for User.role (e.g., admin, user)? Is role required or optional? Consider modeling as an enum.",
        "sources": [
          "figma:Usuarios"
        ]
      },
      {
        "question": "What is the expected length/format for Project.description? Should it be modeled as text if long content is expected?",
        "sources": [
          "figma:Crear Proyecto",
          "figma:Proyectos"
        ]
      },
      {
        "question": "Are Project.userId and Session.userId strictly required (NOT NULL), making the participation from Project/Session to User mandatory?",
        "sources": [
          "figma:Proyectos",
          "figma:Crear Proyecto",
          "figma:Inicio de Sesion",
          "ai_analysis:User-Project",
          "ai_analysis:User-Session"
        ]
      },
      {
        "question": "Can a User exist without any Project or Session? If not, should the 'to' side (User) participation be marked mandatory for either relationship?",
        "sources": [
          "ai_analysis:User-Project",
          "ai_analysis:User-Session",
          "figma:Usuarios"
        ]
      }
    ]
  }
}